<!DOCTYPE html>
<html>
    <head>
      <title>Hello, WebVR! - A-Frame</title>
      <meta name="description" content="Hello, WebVR! - A-Frame">
      <!--  note we are using 1.1.0 as most recent -->
      <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
      <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
      <script src="https://unpkg.com/super-hands@^2.1.0/dist/super-hands.min.js"></script>
      <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

      <script src="/js/object-behaviour.js"></script>
      <script src="/js/gravity.js"></script>

      <script src="https://mixedreality.mozilla.org/ammo.js/builds/ammo.wasm.js"></script>
      <script src="http://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
      
      

      
      
    </head>
    <body>
      <!-- A-Frame scene - al A-Frame entities must go in the scene -->
      <a-scene physics="gravity:1">
        <a-assets>
          
          <img id="skyTexture"
            src="assets/nebula-7680x4320-space-stars-4k-6592.jpg">
        </a-assets>


        
        

        <a-entity camera progressive-controls id="player"  position="1 0 1">

        </a-entity>


        



        <a-entity light="type: directional; color: #EEE; intensity: 0.5" position="-1 1 0"></a-entity>
        <a-light type="directional" color="#4362e0" position="5 15 0" rotation="-90 0 0" target="#directionaltarget">
          <a-entity id="directionaltarget" position="0 0 -1"></a-entity>
        </a-light>


        <!-- geometry documentation: https://github.com/aframevr/aframe/blob/v0.8.2/docs/components/geometry.md -->
        <!-- material documentation: https://github.com/aframevr/aframe/blob/v0.8.2/docs/components/material.md -->      


        <div id="user-gesture-overlay">
          <div class="center">
            <button id="user-gesture-button" onclick="startExperience();">enter experience</button>
          </div>
        </div>
 
        <a-sphere dynamic-body="mass:100" radius="0.5" position="1 1 1" grabbable ></a-sphere>

          <!-- we will start autoplay music after a user-gesture. see js in <head> -->
        <a-entity class="ambient-music" sound="src:#space_music; autoplay:false;"></a-entity>
        <!-- <a-plane ammo-body="type:kinematic" ammo-shape="type:box" position="0 -0.66 0" scale="50 50 0" rotation="90 0 0" visibility="false"></a-plane> -->

        
        <a-entity id="create_button">
          <a-entity class="button interactive" generate-obj position="0 0.6 0" geometry="primitive:cylinder; radius:0.15; height:0.2;" material="color:rgb(100, 255, 100)"
                      animation__mouseenter="property:material.color; type:color; to:rgb(255, 0, 0); startEvents:mouseenter; dur:200"
                      animation__mouseleave="property:material.color; type:color; to:rgb(255, 100, 100); startEvents:mouseleave; dur:200"
                      animation__click="property:position.y; from:0.55; to:0.6; startEvents:click; dur:300" shadow></a-entity>
          <a-entity position="0 0.3 0" geometry="primitive:box; width:0.5; depth:0.5; height:0.6;" material="color:rgb(255, 255, 255)" shadow></a-entity>
        </a-entity>

        
        <a-entity gravity-change position="-2 0 -1.5" geometry="primiti ve:box; width:2; depth:1.25; height:1.75;" material="color:rgb(255, 255, 255)" shadow>
          
      
        </a-entity>
        
        <a-entity geometry="plane" width="1" height="1" position="-0.85 0.85 -0.85" material="color:rgb(0, 255, 255)"> 
          <a-entity text="font: mozillavr; width: 4; value: Air lock release"></a-entity>
        </a-entity>

        
          

        <!-- note three ways of defining color: hexidecimal, rgb, and from a list of pre-defined colours -->
        <!-- see here for more information: http://www.unm.edu/~tbeach/IT145/color.html -->
        <a-entity id="room2">
          <a-entity class="module" static-body geometry="primitive:plane; width:14; height:6.5;" material="color:grey;" position="0 -0.66 2" rotation="-90 0 0" shadow="cast:false; receive:true;"></a-entity>
            
          <!-- Wall group front -->
          <a-entity id="chuteWall" class="module"  geometry="primitive:plane; width:14; height:2;" material="shader: flat; opacity:0.3; color:#2020c1" position="0 0 -2" rotation="-45 0 0" shadow="cast:false; receive:true;"></a-entity>
          <a-entity class="module" static-body geometry="primitive:plane; width:14; height:2;" material="shader: flat; opacity:0.3; color:#2020c1" position="0 1 -2.5" rotation="0 0 0" shadow="cast:false; receive:true;"></a-entity>
          <a-entity class="module" static-body geometry="primitive:plane; width:14; height:2;" material="shader: flat; opacity:0.3; color:#2020c1" position="0 2 -2" rotation="45 0 0" shadow="cast:false; receive:true;"></a-entity>

          <!-- Wall group back-->
          <a-entity class="module" static-body geometry="primitive:plane; width:14; height:2;"  material="shader: flat; opacity:0.3; color:#2020c1" position="0 0 6" rotation="225 0 0" shadow="cast:false; receive:true;"></a-entity>
          <a-entity class="module" static-body geometry="primitive:plane; width:14; height:2;"  material="shader: flat; opacity:0.3; color:#2020c1" position="0 1 6.5" rotation="180 0 0" shadow="cast:false; receive:true;"></a-entity>            
          <a-entity class="module" static-body geometry="primitive:plane; width:14; height:2;"  material="shader: flat; opacity:0.3; color:#2020c1" position="0 2 6" rotation="135 0 0" shadow="cast:false; receive:true;"></a-entity>

            <!-- Wall sides -->
          <a-entity class="module" static-body geometry="primitive:plane; width:10; height:5.8;" material="color:grey;" position="-5.5 0 2" rotation="0 90 0" shadow="cast:false; receive:true;"></a-entity>
          <a-entity class="module" static-body geometry="primitive:plane; width:10; height:5.8;" material="color:grey;" position="5.5 0 2" rotation="0 -90 0" shadow="cast:false; receive:true;"></a-entity>

          <a-entity class="module" static-body geometry="primitive:plane; width:14; height:6.5;" material="shader: flat; opacity:0.2; color:#2020c1 " position="0 2.8 2" rotation="90 0 0" shadow="cast:false; receive:true;"></a-entity>


          <!-- Bars for ship detail -->
          <a-entity geometry="primitive:box; width:14; height:0.25; depth:0.25" material="color:grey;" position="0 2.8 -1.3" ></a-entity>

          <a-entity geometry="primitive:box; width:14; height:0.25; depth:0.25" material="color:grey;" position="0 1.6 -2.5" ></a-entity>
          <a-entity geometry="primitive:box; width:14; height:0.25; depth:0.25" material="color:grey;" position="0 0.6 -2.5" ></a-entity>

          <a-entity geometry="primitive:box; width:14; height:0.25; depth:0.25" material="color:grey;" position="0 -0.66 -1.3" ></a-entity>

         

          <a-entity geometry="primitive:box; width:14; height:0.25; depth:0.25" material="color:grey;" position="0 2.8 5.3" ></a-entity>

          <a-entity geometry="primitive:box; width:14; height:0.25; depth:0.25" material="color:grey;" position="0 1.6 6.5" ></a-entity>
          <a-entity geometry="primitive:box; width:14; height:0.25; depth:0.25" material="color:grey;" position="0 0.6 6.5" ></a-entity>

          <a-entity geometry="primitive:box; width:14; height:0.25; depth:0.25" material="color:grey;" position="0 -0.66 5.3" ></a-entity>

        </a-entity>

        <a-sky src="#skyTexture"></a-sky>
      
      </a-scene>
    </body>
</html>